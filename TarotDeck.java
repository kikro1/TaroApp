import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Random;

public class TarotDeck {

    private final List<TarotCard> cards;
    private final Random random;

    public TarotDeck() {
        this.cards = new ArrayList<>();
        this.random = new Random();
        initDeck();
    }

    public void shuffle() {
        Collections.shuffle(cards, random);
    }

    public List<TarotCard> drawCards(int count) {
        if (count > cards.size()) {
            throw new IllegalArgumentException("В колоде меньше карт, чем нужно вытянуть.");
        }
        return new ArrayList<>(cards.subList(0, count));
    }

    public boolean isReversed() {
        return random.nextBoolean();
    }

    private void initDeck() {
        // ========= СТАРШИЕ АРКАНЫ (22) =========
        cards.add(new TarotCard(
                "0 The Fool (Шут)",
                "Новые начала, спонтанность, доверие миру, шаг в неизвестность.",
                "Импульсивность, наивность, глупый риск, неготовность к последствиям."
        ));

        cards.add(new TarotCard(
                "1 The Magician (Маг)",
                "Воля, ресурсы, умение действовать, реализация идей, проявление силы.",
                "Манипуляции, обман, неуверенность в себе, нереализованный потенциал."
        ));

        cards.add(new TarotCard(
                "2 The High Priestess (Жрица)",
                "Интуиция, тайны, скрытая мудрость, слушать внутренний голос.",
                "Игнорирование интуиции, самообман, путаница, закрытость."
        ));

        cards.add(new TarotCard(
                "3 The Empress (Императрица)",
                "Изобилие, забота, творчество, рост, комфорт, семейные темы.",
                "Застой, лень, чрезмерная опека, зависимость, эмоциональная перегрузка."
        ));

        cards.add(new TarotCard(
                "4 The Emperor (Император)",
                "Структура, власть, контроль, ответственность, стабильность.",
                "Жёсткость, тирания, контроль ради контроля, страх потерять власть."
        ));

        cards.add(new TarotCard(
                "5 The Hierophant (Жрец)",
                "Традиции, обучение, наставник, духовные ценности, правила.",
                "Догматизм, слепое следование правилам, бунт против системы."
        ));

        cards.add(new TarotCard(
                "6 The Lovers (Влюблённые)",
                "Выбор сердцем, отношения, союз, гармония, сильное притяжение.",
                "Колебания, треугольники, неправильный выбор, сомнения в чувствах."
        ));

        cards.add(new TarotCard(
                "7 The Chariot (Колесница)",
                "Движение вперёд, победа, сила воли, контроль пути, решительность.",
                "Хаос, потеря контроля, конфликт желаний, поспешные действия."
        ));

        cards.add(new TarotCard(
                "8 Strength (Сила)",
                "Внутренняя сила, терпение, мягкое влияние, смелость и сострадание.",
                "Слабость, страх, вспышки агрессии, сомнения в себе."
        ));

        cards.add(new TarotCard(
                "9 The Hermit (Отшельник)",
                "Уединение, поиск смысла, внутренняя мудрость, пауза.",
                "Одиночество, отстранённость, уход от проблем, изоляция."
        ));

        cards.add(new TarotCard(
                "10 Wheel of Fortune (Колесо Фортуны)",
                "Перемены, поворот судьбы, удача, цикл, шанс.",
                "Нестабильность, ощущение, что всё выходит из-под контроля, неготовность к переменам."
        ));

        cards.add(new TarotCard(
                "11 Justice (Справедливость)",
                "Честность, баланс, карма, последствия решений, официальные дела.",
                "Несправедливость, ложь, уклонение от ответственности, предвзятость."
        ));

        cards.add(new TarotCard(
                "12 The Hanged Man (Повешенный)",
                "Пауза, смена взгляда, жертва ради большего, принятие.",
                "Зависание, пассивность, жертва без смысла, сопротивление переменам."
        ));

        cards.add(new TarotCard(
                "13 Death (Смерть)",
                "Конец этапа, трансформация, перерождение, отпускание прошлого.",
                "Страх перемен, застревание в старом, невозможность отпустить."
        ));

        cards.add(new TarotCard(
                "14 Temperance (Умеренность)",
                "Баланс, гармония, терпение, постепенный прогресс, целостность.",
                "Крайности, хаос, отсутствие меры, внутренний дисбаланс."
        ));

        cards.add(new TarotCard(
                "15 The Devil (Дьявол)",
                "Зависимости, искушения, материальность, привязанности, страсть.",
                "Освобождение от привязок, осознание своих цепей, попытка вырваться."
        ));

        cards.add(new TarotCard(
                "16 The Tower (Башня)",
                "Внезапный кризис, разрушение иллюзий, резкие перемены.",
                "Отсроченная катастрофа, страх изменений, внутренний кризис."
        ));

        cards.add(new TarotCard(
                "17 The Star (Звезда)",
                "Надежда, вдохновение, исцеление, вера в лучшее, мечта.",
                "Сомнения, потеря веры, усталость, ощущение, что сил мало."
        ));

        cards.add(new TarotCard(
                "18 The Moon (Луна)",
                "Иллюзии, страхи, сны, подсознание, неясная ситуация.",
                "Прояснение через тревогу, выход из самообмана, постепенная ясность."
        ));

        cards.add(new TarotCard(
                "19 The Sun (Солнце)",
                "Радость, успех, ясность, жизненная энергия, удача.",
                "Временные задержки, завышенные ожидания, поверхностный оптимизм."
        ));

        cards.add(new TarotCard(
                "20 Judgement (Суд)",
                "Осознание, пробуждение, важное решение, подведение итогов.",
                "Страх перемен, отказ признать правду, избегание выбора."
        ));

        cards.add(new TarotCard(
                "21 The World (Мир)",
                "Завершение цикла, достижение цели, гармония, новый этап.",
                "Незавершённость, задержки, ощущение, что чего-то не хватает."
        ));


        // ========= МЛАДШИЕ АРКАНЫ =========
        // --- WANDS (Жезлы) ---
        cards.add(new TarotCard(
                "Ace of Wands (Туз Жезлов)",
                "Новый импульс, вдохновение, начало дела, энергия действия.",
                "Промедление, потеря мотивации, неиспользованный шанс."
        ));

        cards.add(new TarotCard(
                "Two of Wands (Двойка Жезлов)",
                "Планы, выбор направления, стратегия, взгляд в будущее.",
                "Сомнения, страх выйти из зоны комфорта, откладывание решения."
        ));

        cards.add(new TarotCard(
                "Three of Wands (Тройка Жезлов)",
                "Прогресс, ожидание результатов, расширение возможностей.",
                "Задержки, неправильные ожидания, узкий взгляд на ситуацию."
        ));

        cards.add(new TarotCard(
                "Four of Wands (Четвёрка Жезлов)",
                "Праздник, стабильность, дом, поддержка, радость.",
                "Неполное удовлетворение, внутреннее напряжение в семье/отношениях."
        ));

        cards.add(new TarotCard(
                "Five of Wands (Пятёрка Жезлов)",
                "Конкуренция, споры, тренировка, борьба мнений.",
                "Бессмысленные конфликты, усталость от борьбы, избегание столкновений."
        ));

        cards.add(new TarotCard(
                "Six of Wands (Шестёрка Жезлов)",
                "Победа, признание, успех, заслуженная награда.",
                "Гордыня, страх падения, отсутствие признания, скрытая зависть."
        ));

        cards.add(new TarotCard(
                "Seven of Wands (Семёрка Жезлов)",
                "Защита позиции, стойкость, удержание своего места.",
                "Усталость от обороны, желание сдаться, сомнения в правоте."
        ));

        cards.add(new TarotCard(
                "Eight of Wands (Восьмёрка Жезлов)",
                "Скорость, новости, быстрые события, движение.",
                "Задержки, путаница, хаотичные действия, неорганизованность."
        ));

        cards.add(new TarotCard(
                "Nine of Wands (Девятка Жезлов)",
                "Выносливость, защита, последнее усилие перед финишем.",
                "Перегорание, слишком сильная оборона, недоверие."
        ));

        cards.add(new TarotCard(
                "Ten of Wands (Десятка Жезлов)",
                "Перегрузка, обязанности, много дел, ответственность.",
                "Нежелание нести ношу, необходимость что-то отпустить или делегировать."
        ));

        cards.add(new TarotCard(
                "Page of Wands (Паж Жезлов)",
                "Весть, вдохновение, любопытство, начало пути.",
                "Непостоянство, пустой энтузиазм, отсутствие плана."
        ));

        cards.add(new TarotCard(
                "Knight of Wands (Рыцарь Жезлов)",
                "Дерзость, страсть, быстрое движение, авантюра.",
                "Импульсивность, вспыльчивость, нестабильность, хаотичность."
        ));

        cards.add(new TarotCard(
                "Queen of Wands (Королева Жезлов)",
                "Харизма, уверенность, творчество, активность, магнетизм.",
                "Ревность, доминирование, истощение, скрытая агрессия."
        ));

        cards.add(new TarotCard(
                "King of Wands (Король Жезлов)",
                "Лидерство, видение, предпринимательская жилка, вдохновляющий пример.",
                "Деспотичный лидер, тирания, недостаток терпения, эгоцентризм."
        ));


        // --- CUPS (Кубки) ---
        cards.add(new TarotCard(
                "Ace of Cups (Туз Кубков)",
                "Новые чувства, любовь, вдохновение, эмоциональное обновление.",
                "Эмоциональная блокировка, закрытость, подавленные чувства."
        ));

        cards.add(new TarotCard(
                "Two of Cups (Двойка Кубков)",
                "Взаимность, партнерство, симпатия, союз, примирение.",
                "Несогласие, дисбаланс, неравные отношения, конфликт."
        ));

        cards.add(new TarotCard(
                "Three of Cups (Тройка Кубков)",
                "Праздник, дружба, поддержка, радостное общение.",
                "Излишества, сплетни, поверхностные связи, выгорание от тусовок."
        ));

        cards.add(new TarotCard(
                "Four of Cups (Четвёрка Кубков)",
                "Скука, апатия, недовольство, нежелание видеть возможности.",
                "Выход из застоя, новое видение, появление интереса."
        ));

        cards.add(new TarotCard(
                "Five of Cups (Пятёрка Кубков)",
                "Потери, сожаления, фокус на негативе, разочарование.",
                "Принятие, исцеление, взгляд вперёд, осознание оставшихся возможностей."
        ));

        cards.add(new TarotCard(
                "Six of Cups (Шестёрка Кубков)",
                "Ностальгия, воспоминания, детство, тёплые связи.",
                "Застревание в прошлом, идеализация, нежелание двигаться дальше."
        ));

        cards.add(new TarotCard(
                "Seven of Cups (Семёрка Кубков)",
                "Фантазии, множество вариантов, мечты, иллюзии.",
                "Выбор, прояснение, отказ от иллюзий, более трезвый взгляд."
        ));

        cards.add(new TarotCard(
                "Eight of Cups (Восьмёрка Кубков)",
                "Уход, поиск большего, отказ от пустого, внутренний путь.",
                "Страх уйти, зависание в неудовлетворяющей ситуации, сомнения."
        ));

        cards.add(new TarotCard(
                "Nine of Cups (Девятка Кубков)",
                "Исполнение желаний, удовольствие, довольство собой.",
                "Излишества, лень, самоуспокоенность, перегиб в сторону комфорта."
        ));

        cards.add(new TarotCard(
                "Ten of Cups (Десятка Кубков)",
                "Счастье, семья, гармония, эмоциональное завершение.",
                "Скрытые проблемы, иллюзия идеальности, напряжение в семье."
        ));

        cards.add(new TarotCard(
                "Page of Cups (Паж Кубков)",
                "Нежность, романтика, вдохновение, творческая идея.",
                "Незрелость, детскость, обидчивость, уход в фантазии."
        ));

        cards.add(new TarotCard(
                "Knight of Cups (Рыцарь Кубков)",
                "Романтический жест, приглашение, чувство, идеализм.",
                "Непостоянство в чувствах, драматичность, обманчивые обещания."
        ));

        cards.add(new TarotCard(
                "Queen of Cups (Королева Кубков)",
                "Сочувствие, эмпатия, интуиция, глубокие чувства.",
                "Эмоциональная зависимость, жертвенность, обиды, неустойчивость."
        ));

        cards.add(new TarotCard(
                "King of Cups (Король Кубков)",
                "Эмоциональная зрелость, мудрый советчик, стабильные чувства.",
                "Подавленные эмоции, манипуляции, пассивная агрессия."
        ));


        // --- SWORDS (Мечи) ---
        cards.add(new TarotCard(
                "Ace of Swords (Туз Мечей)",
                "Прозрение, ясность, новая идея, честный разговор.",
                "Сомнения, путаница, жесткие слова, конфликт."
        ));

        cards.add(new TarotCard(
                "Two of Swords (Двойка Мечей)",
                "Выбор, внутренний блок, нежелание смотреть на проблему.",
                "Принятие решения, снять повязку, столкнуться с правдой."
        ));

        cards.add(new TarotCard(
                "Three of Swords (Тройка Мечей)",
                "Боль, разрыв, разочарование, обида, тяжёлые переживания.",
                "Исцеление, выход из боли, понимание причин, прощение."
        ));

        cards.add(new TarotCard(
                "Four of Swords (Четвёрка Мечей)",
                "Отдых, пауза, восстановление, тайм-аут.",
                "Затянувшаяся пауза, апатия, избегание действий, усталость от ожидания."
        ));

        cards.add(new TarotCard(
                "Five of Swords (Пятёрка Мечей)",
                "Конфликт, победа любой ценой, напряжённые отношения.",
                "Осознать цену победы, желание примирения, отказаться от лишних споров."
        ));

        cards.add(new TarotCard(
                "Six of Swords (Шестёрка Мечей)",
                "Переход, уход от трудностей, движение к лучшему.",
                "Задержки, невозможность уйти, груз прошлого, сомнения."
        ));

        cards.add(new TarotCard(
                "Seven of Swords (Семёрка Мечей)",
                "Хитрость, стратегия, скрытность, обходной путь.",
                "Разоблачение, вина, необходимость быть честнее, провал хитрого плана."
        ));

        cards.add(new TarotCard(
                "Eight of Swords (Восьмёрка Мечей)",
                "Чувство ловушки, ограничение, страх, негативные мысли.",
                "Выход из ограничения, осознание, что преграды во многом в голове."
        ));

        cards.add(new TarotCard(
                "Nine of Swords (Девятка Мечей)",
                "Тревога, бессонница, переживания, чувство вины.",
                "Постепенное облегчение, работа с тревогой, выход из ментального ада."
        ));

        cards.add(new TarotCard(
                "Ten of Swords (Десятка Мечей)",
                "Конец, крах, дно, болезненное завершение.",
                "Начало восстановления, новый цикл, хуже уже не будет."
        ));

        cards.add(new TarotCard(
                "Page of Swords (Паж Мечей)",
                "Любопытство, наблюдение, новые идеи, сбор информации.",
                "Суета, сплетни, недосказанность, нестабильность мыслей."
        ));

        cards.add(new TarotCard(
                "Knight of Swords (Рыцарь Мечей)",
                "Решительность, резкие действия, смелый шаг, прорыв.",
                "Поспешность, агрессия, конфликтность, необдуманные решения."
        ));

        cards.add(new TarotCard(
                "Queen of Swords (Королева Мечей)",
                "Чёткий ум, логика, честность, умение отсеивать лишнее.",
                "Холодность, жесткость, сарказм, критика без мягкости."
        ));

        cards.add(new TarotCard(
                "King of Swords (Король Мечей)",
                "Разум, справедливость, анализ, авторитет в интеллектуальной сфере.",
                "Холодный расчет, манипуляция логикой, жесткие суждения."
        ));


        // --- PENTACLES (Пентакли) ---
        cards.add(new TarotCard(
                "Ace of Pentacles (Туз Пентаклей)",
                "Шанс в материальной сфере, деньги, работа, ресурс.",
                "Упущенная возможность, неиспользованный потенциал, страх начать."
        ));

        cards.add(new TarotCard(
                "Two of Pentacles (Двойка Пентаклей)",
                "Жонглирование делами, баланс, гибкость, повседневная суета.",
                "Хаос, перегруз, невозможность удержать баланс, нехватка сил."
        ));

        cards.add(new TarotCard(
                "Three of Pentacles (Тройка Пентаклей)",
                "Командная работа, мастерство, совместный проект, рост.",
                "Проблемы в команде, непонимание, недооценка усилий."
        ));

        cards.add(new TarotCard(
                "Four of Pentacles (Четвёрка Пентаклей)",
                "Контроль, удержание, накопление, страх потерять.",
                "Скупость, жадность, зажим ресурсов, либо необходимость расслабить хватку."
        ));

        cards.add(new TarotCard(
                "Five of Pentacles (Пятёрка Пентаклей)",
                "Нехватка ресурсов, чувство одиночества, трудный период.",
                "Поиск поддержки, выход из кризиса, новые возможности."
        ));

        cards.add(new TarotCard(
                "Six of Pentacles (Шестёрка Пентаклей)",
                "Обмен, помощь, благотворительность, баланс дать/получить.",
                "Неравенство, манипуляция через помощь, скрытый контроль."
        ));

        cards.add(new TarotCard(
                "Seven of Pentacles (Семёрка Пентаклей)",
                "Ожидание результата, терпение, оценка прогресса.",
                "Нетерпение, разочарование, желание всё бросить."
        ));

        cards.add(new TarotCard(
                "Eight of Pentacles (Восьмёрка Пентаклей)",
                "Труд, обучение, развитие навыков, концентрация.",
                "Рутина, перегорание, работа без удовольствия, перфекционизм."
        ));

        cards.add(new TarotCard(
                "Nine of Pentacles (Девятка Пентаклей)",
                "Самодостаточность, достаток, комфорт, результат труда.",
                "Зависимость от чужих ресурсов, одиночество среди достатка."
        ));

        cards.add(new TarotCard(
                "Ten of Pentacles (Десятка Пентаклей)",
                "Стабильность, семья, наследие, долгосрочная безопасность.",
                "Конфликты в семье, спор о деньгах, нестабильный фундамент."
        ));

        cards.add(new TarotCard(
                "Page of Pentacles (Паж Пентаклей)",
                "Учёба, новые навыки, практичные идеи, первые шаги.",
                "Лень, отсутствие фокуса, нежелание вкладываться в развитие."
        ));

        cards.add(new TarotCard(
                "Knight of Pentacles (Рыцарь Пентаклей)",
                "Стабильность, терпеливый труд, надёжность, планомерность.",
                "Застой, упрямство, скука, отказ от перемен."
        ));

        cards.add(new TarotCard(
                "Queen of Pentacles (Королева Пентаклей)",
                "Забота, практичность, домашний уют, ресурсность.",
                "Чрезмерный контроль, усталость от забот, материальные страхи."
        ));

        cards.add(new TarotCard(
                "King of Pentacles (Король Пентаклей)",
                "Финансовая стабильность, успех, надёжный поставщик ресурсов.",
                "Жадность, материализм, жёсткий контроль через деньги."
        ));
    }
}